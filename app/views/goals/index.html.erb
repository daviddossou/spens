<% content_for :title, t('.title') %>

<div class="page-container page-container--narrow">
  <header class="page-header">
    <h1 class="page-header__title"><%= t('.title') %></h1>
    <p class="page-header__subtitle"><%= t('.subtitle') %></p>
  </header>

  <div class="page-content">
    <% if @accounts_with_goals.any? %>
      <div class="goals-list">
        <% @accounts_with_goals.each do |account| %>
          <%= render Ui::CommitmentCardComponent.new(
            title: account.name,
            current_value: account.balance,
            target_value: account.saving_goal,
            currency: current_user.currency,
            url: goal_path(id: account.id)
          ) %>
        <% end %>
      </div>
    <% else %>
      <div class="empty-state">
        <svg class="empty-state__icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
        </svg>
        <h3><%= t('.no_goals_title') %></h3>
        <p><%= t('.no_goals_message') %></p>
      </div>
    <% end %>

    <div class="goals-actions">
      <%= render Ui::ButtonComponent.new(
        text: t('.add_new_goal'),
        url: new_goal_path,
        variant: :primary,
        size: :lg,
        full_width: true
      ) %>
    </div>
  </div>
</div>
